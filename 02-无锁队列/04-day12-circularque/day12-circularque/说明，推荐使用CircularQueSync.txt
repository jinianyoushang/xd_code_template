推荐使用CircularQueSync.
使用智能指针不太合适，需要专门优化，去析构
对大的对象多次拷贝，也不是很合适。